{% extends 'base.html.twig' %} {% use "navbar.html.twig" %} {% use
"transaction/addtransaction.html.twig" %} {% block content %} {% set active =
"transactions" %}

{{ block("navbar") }}

{{ block("addtransaction") }}

{% include "transaction/uploadtransactions.html.twig" %}

<br />

<table class="datatable">
  <tbody>
    <tr>
      <th>Description</th>
      <th>Amount</th>
      <th>Date</th>
      <th>Category</th>
    </tr>
    {% for transaction in transactions %}
    <tr id="transaction_row{{ transaction.id }}">
      <td>
        <span id="transaction_description{{ transaction.id }}">
          {{ transaction.description }}
        </span>
      </td>
      <td>
        <span id="transaction_amount{{ transaction.id }}">
          {{ transaction.amount }}$
        </span>
      </td>
      <td>
        <span id="transaction_date{{ transaction.id }}">
          {{ transaction.date.format("d.m.Y.") }}
        </span>
      </td>
      <td>
        <span
          id="transaction_category{{ transaction.id }}"
          data-id="{{ transaction.category.getId() }}"
        >
          {{ transaction.category.getName() }}
        </span>
      </td>
      <td>
        <button
          id="transactionBtn{{ transaction.id }}"
          class="redBtn transactionBtnOpenModal"
        >
          Change
        </button>
      </td>

      <td>
        <form action="/transactions/{{ transaction.id }}" method="post">
          <input
            type="hidden"
            name="{{ csrf.NameKey }}"
            value="{{ csrf.Name }}"
          />
          <input
            type="hidden"
            name="{{ csrf.ValueKey }}"
            value="{{ csrf.Value }}"
          />
          <input type="hidden" name="_METHOD" value="DELETE" />
          <button type="submit" class="redBtn">X</button>
        </form>
      </td>
    </tr>

    {% endfor %}
  </tbody>
</table>

{% include "transaction/updatetransaction.html.twig" %} {% endblock %}
